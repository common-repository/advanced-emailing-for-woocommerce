rndefine("#RNEmailTestUtils",["#RNEmailFormulaCore/FRDataRetriever","#RNEmailFormulaCore/FRFieldSource","#RNEmailFormulaCore/FRMain","#RNEmailParser/CustomLanguage","#RNEmailParser/Parser","#RNEmailParser/FormulaFunctionDictionary"],(function(e,t,r,n,o,u){"use strict";class s extends t.FRFieldSource{constructor(...e){super(...e),this.TestProperty="TestPropertyCalled"}ToNumber(){return 1}ToText(){return"a"}TestMethod(){return"TestMethod"}TestMethod2(e){return e+"executed"}TestMethod3(e,t){return e+"_"+t+"_was_executed"}GetNumber(){return 1}GetPrice(){return 1}GetText(){return"a"}}class i extends e.FRDataRetriever{constructor(){super(),this.Test=new s}GetFieldById(e){return this.Test}}class a extends t.FRFieldSource{constructor(...e){super(...e),this.TestProperty="TestPropertyCalled"}ToNumber(){return 1}ToText(){return"a"}TestMethod(){return"TestMethod"}TestMethod2(e){return e+"executed"}TestMethod3(e,t){return e+"_"+t+"_was_executed"}GetNumber(){return 1}GetPrice(){return 1}GetText(){return"a"}}u.FormulaFunctionDictionary.GetOrCreateGroup("Math").AddItem("TestFunction","TestFunction","TestFunction","RNRound").AddItem("TestFunction2","TestFunction2","TestFunction","RNRound").AddItem("TestFunction3","TestFunction3","TestFunction","RNRound"),exports.TestFRDataRetriever=i,exports.TestFieldSource=a,exports.TestParseText=function(e){let t=n.CustomLanguage(),u=o.EditorState.create({doc:e,extensions:[t]}),s=new i;s.AddFunction("RNTestFunction",(()=>"Function Called")),s.AddFunction("RNTestFunction2",((e,t,r)=>t+r)),s.SetVar("MyFunctionVar","Value Retrieved from Function"),s.AddFunction("RNTestFunction3",((e,t,r)=>e.GetVar("MyFunctionVar")));let a=(new o.Parser).Parse(u,u.tree.topNode);return console.log("PARSED STRING------------------"),console.log(JSON.stringify(a)),new r.FRMain(a.Compiled,s)}}));
